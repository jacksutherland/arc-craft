{"version":3,"file":"RecentEntriesWidget.js","mappings":"YAAA,IAAUA,EAAAA,EAwEPC,OArECC,MAAMC,oBAAsBC,QAAQC,KAAKC,OAAO,CAC5CC,OAAQ,KACRC,QAAS,KACTC,MAAO,KACPC,WAAY,KACZC,OAAQ,KACRC,WAAY,KAEZC,KAAM,SAASC,EAAUP,GACrBQ,KAAKR,OAASA,EACdQ,KAAKP,QAAUR,EAAE,UAAYc,GAC7BC,KAAKN,MAAQM,KAAKP,QAAQQ,KAAK,eAC/BD,KAAKL,WAAaK,KAAKP,QAAQQ,KAAK,kCACpCD,KAAKJ,OAASI,KAAKL,WAAWM,KAAK,eACnCD,KAAKH,aAAeG,KAAKJ,OAAOM,OAEhCF,KAAKP,QAAQU,KAAK,UAAUC,GAAG,UAAWJ,KAAKK,QAAQC,KAAKN,OAE5Db,MAAMC,oBAAoBmB,UAAUC,KAAKR,OAG7CS,SAAU,SAASC,GACfV,KAAKL,WAAWgB,IAAI,aAAc,GAClC,IAAIC,EAAYZ,KAAKL,WAAWkB,SAEhC,IAAKb,KAAKH,WAAY,CAElB,IAAIiB,EAAS7B,EAAE,mCAAmC8B,UAAUf,KAAKL,YACjEK,KAAKJ,OAASX,EAAE,YAAY+B,SAASF,GAGzCd,KAAKJ,OAAOqB,QACR,oBAEcP,EAAMQ,IAAM,KAAO/B,MAAMgC,WAAWT,EAAMU,OAFxD,4BAIAjC,MAAMgC,YACDT,EAAMW,YAAclC,MAAMmC,WAAWZ,EAAMW,aAAe,KAC1DX,EAAMW,aAAeX,EAAMa,UAAYpC,MAAMqC,SAAWrC,MAAMsC,IAAM,KAAO,KAC3Ef,EAAMa,UAAYpC,MAAMqC,SAAWrC,MAAMsC,IAAMf,EAAMa,SAAW,KAPrE,qBAcJ,IACIG,EADY1B,KAAKL,WAAWkB,SACHD,EAE7BZ,KAAKL,WAAWgB,IAAI,cAAee,GAEnC,IAAIC,EAAQ,CAAC,aAAc,GAGtB3B,KAAKH,aACN8B,EAAM,kBAAoBf,EAC1BZ,KAAKH,YAAa,GAGtBG,KAAKL,WAAWiC,SAASD,IAG7BtB,QAAS,WACLlB,MAAMC,oBAAoBmB,UAAUsB,OAAO5C,EAAE6C,QAAQ9B,KAAMb,MAAMC,oBAAoBmB,WAAY,GACjGP,KAAK+B,SAEV,CACCxB,UAAW,K","sources":["webpack:///./RecentEntriesWidget.js"],"sourcesContent":["(function($) {\n    /** global: Craft */\n    /** global: Garnish */\n    Craft.RecentEntriesWidget = Garnish.Base.extend({\n        params: null,\n        $widget: null,\n        $body: null,\n        $container: null,\n        $tbody: null,\n        hasEntries: null,\n\n        init: function(widgetId, params) {\n            this.params = params;\n            this.$widget = $('#widget' + widgetId);\n            this.$body = this.$widget.find('.body:first');\n            this.$container = this.$widget.find('.recententries-container:first');\n            this.$tbody = this.$container.find('tbody:first');\n            this.hasEntries = !!this.$tbody.length;\n\n            this.$widget.data('widget').on('destroy', this.destroy.bind(this));\n\n            Craft.RecentEntriesWidget.instances.push(this);\n        },\n\n        addEntry: function(entry) {\n            this.$container.css('margin-top', 0);\n            var oldHeight = this.$container.height();\n\n            if (!this.hasEntries) {\n                // Create the table first\n                var $table = $('<table class=\"data fullwidth\"/>').prependTo(this.$container);\n                this.$tbody = $('<tbody/>').appendTo($table);\n            }\n\n            this.$tbody.prepend(\n                '<tr>' +\n                '<td>' +\n                '<a href=\"' + entry.url + '\">' + Craft.escapeHtml(entry.title) + '</a> ' +\n                '<span class=\"light\">' +\n                Craft.escapeHtml(\n                    (entry.dateCreated ? Craft.formatDate(entry.dateCreated) : '') +\n                    (entry.dateCreated && entry.username && Craft.edition == Craft.Pro ? ', ' : '') +\n                    (entry.username && Craft.edition == Craft.Pro ? entry.username : '')\n                ) +\n                '</span>' +\n                '</td>' +\n                '</tr>'\n            );\n\n            var newHeight = this.$container.height(),\n                heightDiff = newHeight - oldHeight;\n\n            this.$container.css('margin-top', -heightDiff);\n\n            var props = {'margin-top': 0};\n\n            // Also animate the \"No entries exist\" text out of view\n            if (!this.hasEntries) {\n                props['margin-bottom'] = -oldHeight;\n                this.hasEntries = true;\n            }\n\n            this.$container.velocity(props);\n        },\n\n        destroy: function() {\n            Craft.RecentEntriesWidget.instances.splice($.inArray(this, Craft.RecentEntriesWidget.instances), 1);\n            this.base();\n        }\n    }, {\n        instances: []\n    });\n})(jQuery);\n"],"names":["$","jQuery","Craft","RecentEntriesWidget","Garnish","Base","extend","params","$widget","$body","$container","$tbody","hasEntries","init","widgetId","this","find","length","data","on","destroy","bind","instances","push","addEntry","entry","css","oldHeight","height","$table","prependTo","appendTo","prepend","url","escapeHtml","title","dateCreated","formatDate","username","edition","Pro","heightDiff","props","velocity","splice","inArray","base"],"sourceRoot":""}