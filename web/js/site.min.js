var DOMClass=function(){this.body=null,this.header=null,this.mobile={menu:{isOpen:!1,listener:function(e){dom.mobile.menu.show(!1)},show:function(e){var t=document.getElementById("mobile-menu"),i=document.getElementById("mobile-trigger");e?(t.classList.add("open"),i.classList.add("open"),t.addEventListener("click",dom.mobile.menu.listener),document.body.style.overflow="hidden",dom.mobile.menu.isOpen=!0):(t.classList.remove("open"),i.classList.remove("open"),t.removeEventListener("click",dom.mobile.menu.listener),document.body.style.overflow="auto",dom.mobile.menu.isOpen=!1)}}},this.init=function(){document.getElementsByTagName("header").length>0?this.header=document.getElementsByTagName("header")[0]:this.header=null;var e=document.getElementsByClassName("testimonials");if(e.length)for(i=0;i<e.length;i++){var t=e[i].getElementsByTagName("blockquote");for(ii=0;ii<t.length;ii++)t[ii].hasAttribute("cite")&&t[ii].addEventListener("click",(function(e){e.preventDefault(),"http"==this.getAttribute("cite").substring(0,4)&&window.open(this.getAttribute("cite"),"_blank")}));e[i].querySelectorAll(".prev")[0].addEventListener("click",function(e){e.preventDefault(),this.querySelector(".active").classList.add("inactivate"),setTimeout(function(){var e=this.querySelector(".active");if(setTimeout(function(){this.classList.remove("inactivate")}.bind(e),100),e.classList.remove("active"),null==e.previousElementSibling||"blockquote"!=e.previousElementSibling.tagName.toLowerCase()){var t=this.getElementsByTagName("blockquote");t[t.length-1].classList.add("active")}else e.previousElementSibling.classList.add("active")}.bind(this),250)}.bind(e[i])),e[i].querySelectorAll(".next")[0].addEventListener("click",function(e){e.preventDefault(),this.querySelector(".active").classList.add("inactivate"),setTimeout(function(){var e=this.querySelector(".active");setTimeout(function(){this.classList.remove("inactivate")}.bind(e),100),e.classList.remove("active"),null==e.nextElementSibling||"blockquote"!=e.nextElementSibling.tagName.toLowerCase()?this.getElementsByTagName("blockquote")[0].classList.add("active"):e.nextElementSibling.classList.add("active")}.bind(this),250)}.bind(e[i]))}var s=document.getElementsByClassName("arc-form");s.length&&this.initForms(s),this.addEvents()},this.addEvents=function(){null!=this.header&&window.addEventListener("scroll",function(){document.body.scrollTop<250&&document.documentElement.scrollTop<250?this.header.classList.remove("sticky"):(document.body.scrollTop>300||document.documentElement.scrollTop>300)&&this.header.classList.add("sticky")}.bind(this)),document.getElementById("mobile-trigger").addEventListener("click",(function(e){e.preventDefault(),dom.mobile.menu.show(!dom.mobile.menu.isOpen)}))},this.validateField=function(e){var t=!0;switch(e.classList.contains("error")&&(e.classList.remove("error"),null!=e.nextSibling&&void 0!==e.nextSibling.classList&&e.nextSibling.classList.contains("error")&&e.nextSibling.remove()),e.dataset.validation){case"required":0==e.value.trim().length&&(t=!1,e.classList.contains("error")||(e.classList.add("error"),e.insertAdjacentHTML("afterend",'<span class="error">This field is required</span>')));break;case"email":(0==e.value.trim().length||e.value.indexOf("@")<0)&&(t=!1,e.classList.contains("error")||(e.classList.add("error"),e.insertAdjacentHTML("afterend",'<span class="error">This field is required</span>')))}return t},this.initForms=function(e){for(i=0;i<e.length;i++){var t=e[i].querySelectorAll("[data-validation]");for(ii=0;ii<t.length;ii++)t[ii].addEventListener("keyup",function(){this.class.validateField(this.field)}.bind({class:this,field:t[ii]}));e[i].addEventListener("submit",function(e){var t=!0,i=this.form.querySelectorAll("[data-validation]"),s=this.form;for(ii=0;ii<i.length;ii++)this.class.validateField(i[ii])||(t=!1);if(!t)return e.preventDefault(),!1;if("ajax"==this.form.dataset.submit){e.preventDefault();var n=new FormData(this.form),a="";for(var l of n.entries())""!=a&&(a+="&"),a+=l[0]+"="+l[1];var o=new XMLHttpRequest;return o.open("POST",this.form.action,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&200===this.status&&(console.log("done"),console.log(o.responseText),s.classList.add("hide"),s.previousElementSibling.classList.contains("form-response")&&s.previousElementSibling.classList.add("show"))},o.send(a),!1}}.bind({class:this,form:e[i]}))}},this.init()},dom=new DOMClass;